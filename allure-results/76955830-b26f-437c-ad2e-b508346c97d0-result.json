{"uuid":"76955830-b26f-437c-ad2e-b508346c97d0","historyId":"37e79d3563c17bd1660053e138cab5ce","fullName":"features/authentication/logout.feature:12","labels":[{"name":"tag","value":"implemented"},{"name":"tag","value":"segment_1"},{"name":"tag","value":"j1.10"},{"name":"tag","value":"authentication"},{"name":"severity","value":"critical"},{"name":"tag","value":"e2e"},{"name":"host","value":"MacBook-Pro-de-Glaucio.local"},{"name":"thread","value":"21629@MacBook-Pro-de-Glaucio.local.main(1)"},{"name":"feature","value":"Logout"},{"name":"story","value":"Logout bem-sucedido"},{"name":"suite","value":"Logout"},{"name":"testClass","value":"Logout bem-sucedido"},{"name":"framework","value":"cucumber4jvm"},{"name":"language","value":"java"},{"name":"gherkin_uri","value":"classpath:features/authentication/logout.feature"},{"name":"package","value":"features.authentication.logout_feature.Logout"}],"links":[],"name":"Logout bem-sucedido","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"CPF duplicado persistiu após 3 tentativas. Resposta: {\"errorCode\":\"ID-A-BUS003\",\"message\":\"User already exists\",\"cause\":\"CPF already exists\",\"action\":\"Please use a different CPF or email\",\"timestamp\":\"2025-11-17T11:27:02.891061890Z\",\"httpStatus\":409,\"severity\":\"MEDIUM\",\"retryable\":false,\"retryPolicy\":{\"maxRetries\":0,\"initialDelay\":\"PT0S\",\"maxDelay\":\"PT0S\",\"backoffMultiplier\":1.0},\"context\":{\"userId\":null,\"sessionId\":null,\"requestId\":null,\"correlationId\":\"NO-CORRELATION-ID\",\"operation\":null,\"metadata\":{}},\"metadata\":{}}","trace":"java.lang.AssertionError: CPF duplicado persistiu após 3 tentativas. Resposta: {\"errorCode\":\"ID-A-BUS003\",\"message\":\"User already exists\",\"cause\":\"CPF already exists\",\"action\":\"Please use a different CPF or email\",\"timestamp\":\"2025-11-17T11:27:02.891061890Z\",\"httpStatus\":409,\"severity\":\"MEDIUM\",\"retryable\":false,\"retryPolicy\":{\"maxRetries\":0,\"initialDelay\":\"PT0S\",\"maxDelay\":\"PT0S\",\"backoffMultiplier\":1.0},\"context\":{\"userId\":null,\"sessionId\":null,\"requestId\":null,\"correlationId\":\"NO-CORRELATION-ID\",\"operation\":null,\"metadata\":{}},\"metadata\":{}}\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.a_identidade_deve_ser_criada_com_sucesso(AuthenticationSteps.java:174)\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.que_ja_estou_autenticado_na_plataforma(AuthenticationSteps.java:598)\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.que_tenho_um_token_jwt_valido(AuthenticationSteps.java:626)\n\tat ✽.que tenho um token JWT válido(classpath:features/authentication/logout.feature:13)\n"},"stage":"finished","description":"  Como um comprador ocasional\n  Eu quero fazer logout da plataforma\n  Para encerrar minha sessão com segurança","steps":[{"name":"Given  a infraestrutura de testes está configurada","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763378822557,"stop":1763378822557},{"name":"And  os microserviços estão rodando","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763378822557,"stop":1763378822558},{"name":"And  que estou autenticado na plataforma","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763378822558,"stop":1763378822560},{"name":"Given  que tenho um token JWT válido","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"CPF duplicado persistiu após 3 tentativas. Resposta: {\"errorCode\":\"ID-A-BUS003\",\"message\":\"User already exists\",\"cause\":\"CPF already exists\",\"action\":\"Please use a different CPF or email\",\"timestamp\":\"2025-11-17T11:27:02.891061890Z\",\"httpStatus\":409,\"severity\":\"MEDIUM\",\"retryable\":false,\"retryPolicy\":{\"maxRetries\":0,\"initialDelay\":\"PT0S\",\"maxDelay\":\"PT0S\",\"backoffMultiplier\":1.0},\"context\":{\"userId\":null,\"sessionId\":null,\"requestId\":null,\"correlationId\":\"NO-CORRELATION-ID\",\"operation\":null,\"metadata\":{}},\"metadata\":{}}","trace":"java.lang.AssertionError: CPF duplicado persistiu após 3 tentativas. Resposta: {\"errorCode\":\"ID-A-BUS003\",\"message\":\"User already exists\",\"cause\":\"CPF already exists\",\"action\":\"Please use a different CPF or email\",\"timestamp\":\"2025-11-17T11:27:02.891061890Z\",\"httpStatus\":409,\"severity\":\"MEDIUM\",\"retryable\":false,\"retryPolicy\":{\"maxRetries\":0,\"initialDelay\":\"PT0S\",\"maxDelay\":\"PT0S\",\"backoffMultiplier\":1.0},\"context\":{\"userId\":null,\"sessionId\":null,\"requestId\":null,\"correlationId\":\"NO-CORRELATION-ID\",\"operation\":null,\"metadata\":{}},\"metadata\":{}}\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.a_identidade_deve_ser_criada_com_sucesso(AuthenticationSteps.java:174)\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.que_ja_estou_autenticado_na_plataforma(AuthenticationSteps.java:598)\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.que_tenho_um_token_jwt_valido(AuthenticationSteps.java:626)\n\tat ✽.que tenho um token JWT válido(classpath:features/authentication/logout.feature:13)\n"},"stage":"finished","steps":[],"attachments":[{"name":"Status Code","source":"60a0f532-0631-4ee8-a3c5-36011daf2cb1-attachment.txt","type":"text/plain"},{"name":"Request Info","source":"33fa7da6-9812-48bd-a2e0-ce87692e6aa6-attachment.txt","type":"text/plain"},{"name":"Response Headers","source":"771da0cd-0bb1-400d-8e0a-f6f6d0bfb66a-attachment.txt","type":"text/plain"},{"name":"Status Code","source":"4f0faa8b-25d6-4dd1-8fb1-ef9d847783b4-attachment.txt","type":"text/plain"},{"name":"Request Info","source":"83e37a5e-d6b0-48d5-b66d-4f39f647ebdd-attachment.txt","type":"text/plain"},{"name":"Response Headers","source":"2b0ab43d-c6d9-43d6-a808-0f6f85c0910a-attachment.txt","type":"text/plain"}],"parameters":[],"start":1763378822561,"stop":1763378823001},{"name":"When  eu faço logout","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763378823001,"stop":1763378823002},{"name":"Then  o token deve ser invalidado no servidor","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763378823002,"stop":1763378823002},{"name":"And  o evento \"auth.logout\" deve ser publicado","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763378823002,"stop":1763378823002},{"name":"When  eu tento usar o token invalidado","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763378823003,"stop":1763378823003},{"name":"Then  o acesso deve ser negado com status 401","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763378823003,"stop":1763378823003},{"name":"And  o erro deve indicar token inválido","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763378823004,"stop":1763378823004}],"attachments":[],"parameters":[],"start":1763378822555,"stop":1763378823004}