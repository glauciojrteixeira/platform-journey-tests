{"uuid":"962684f1-baeb-4e51-9782-0a4878a457a9","historyId":"d05b07aeb80b5ffcd12fc956c96f29f0","fullName":"features/authentication/password_recovery.feature:13","labels":[{"name":"tag","value":"implemented"},{"name":"tag","value":"segment_1"},{"name":"tag","value":"j1.6"},{"name":"tag","value":"password"},{"name":"tag","value":"recovery"},{"name":"tag","value":"medium"},{"name":"tag","value":"e2e"},{"name":"host","value":"MacBook-Pro-de-Glaucio.local"},{"name":"thread","value":"8709@MacBook-Pro-de-Glaucio.local.main(1)"},{"name":"feature","value":"Recuperação de Senha"},{"name":"story","value":"Recuperação de senha bem-sucedida com OTP"},{"name":"suite","value":"Recuperação de Senha"},{"name":"testClass","value":"Recuperação de senha bem-sucedida com OTP"},{"name":"framework","value":"cucumber4jvm"},{"name":"language","value":"java"},{"name":"gherkin_uri","value":"classpath:features/authentication/password_recovery.feature"},{"name":"package","value":"features.authentication.password_recovery_feature.Recuperação de Senha"}],"links":[],"name":"Recuperação de senha bem-sucedida com OTP","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"[Redefinição de senha deve retornar 200. Resposta: {\"errorCode\":\"AU-A-VAL006\",\"message\":\"Required field 'OTP is not valid for password recovery' is missing\",\"cause\":\"Required field 'OTP is not valid for password recovery' is missing from request\",\"action\":\"Please include the 'OTP is not valid for password recovery' field in your request\",\"timestamp\":\"2025-11-18T12:20:06.246476309Z\",\"httpStatus\":400,\"severity\":\"MEDIUM\",\"retryable\":false,\"retryPolicy\":null,\"context\":{\"correlationId\":null,\"traceId\":null,\"spanId\":null,\"timestamp\":\"2025-11-18T12:20:06.246303442Z\",\"userId\":null,\"operation\":null,\"additionalContext\":{}},\"metadata\":{}}] \nexpected: 200\n but was: 400","trace":"org.opentest4j.AssertionFailedError: [Redefinição de senha deve retornar 200. Resposta: {\"errorCode\":\"AU-A-VAL006\",\"message\":\"Required field 'OTP is not valid for password recovery' is missing\",\"cause\":\"Required field 'OTP is not valid for password recovery' is missing from request\",\"action\":\"Please include the 'OTP is not valid for password recovery' field in your request\",\"timestamp\":\"2025-11-18T12:20:06.246476309Z\",\"httpStatus\":400,\"severity\":\"MEDIUM\",\"retryable\":false,\"retryPolicy\":null,\"context\":{\"correlationId\":null,\"traceId\":null,\"spanId\":null,\"timestamp\":\"2025-11-18T12:20:06.246303442Z\",\"userId\":null,\"operation\":null,\"additionalContext\":{}},\"metadata\":{}}] \nexpected: 200\n but was: 400\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.eu_devo_conseguir_redefinir_minha_senha(AuthenticationSteps.java:1095)\n\tat ✽.eu devo conseguir redefinir minha senha(classpath:features/authentication/password_recovery.feature:18)\n"},"stage":"finished","description":"  Como um usuário que esqueceu a senha\n  Eu quero recuperar minha senha\n  Para poder acessar minha conta novamente","steps":[{"name":"Given  a infraestrutura de testes está configurada","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468402052,"stop":1763468402052},{"name":"And  os microserviços estão rodando","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468402052,"stop":1763468402052},{"name":"And  que tenho dados de teste únicos","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468402053,"stop":1763468402053},{"name":"And  que crio um usuário com esses dados","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468402053,"stop":1763468404161},{"name":"Given  que esqueci minha senha","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468404161,"stop":1763468404161},{"name":"When  eu solicito recuperação de senha para o email do usuário criado","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[{"name":"Status Code","source":"db37e113-3eb4-4b9f-8611-1237239ec0af-attachment.txt","type":"text/plain"},{"name":"Request Info","source":"cad815b1-b60a-4fac-a445-47724874192b-attachment.txt","type":"text/plain"},{"name":"Response Headers","source":"c84f5e46-89b1-46d2-bebe-b16eed5dc923-attachment.txt","type":"text/plain"}],"parameters":[],"start":1763468404161,"stop":1763468404189},{"name":"And  eu recebo o código OTP","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468404189,"stop":1763468405202},{"name":"And  eu valido o OTP recebido via WhatsApp","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[{"name":"Status Code","source":"e8ec70a4-e0b8-4288-ace1-005d75e0b419-attachment.txt","type":"text/plain"},{"name":"Request Info","source":"f7b189a1-d88c-4b14-9ede-cb955c16e0f6-attachment.txt","type":"text/plain"},{"name":"Response Headers","source":"30cdb9e8-0c07-4a55-a723-3ae78bd63608-attachment.txt","type":"text/plain"}],"parameters":[],"start":1763468405202,"stop":1763468406231},{"name":"Then  eu devo conseguir redefinir minha senha","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"[Redefinição de senha deve retornar 200. Resposta: {\"errorCode\":\"AU-A-VAL006\",\"message\":\"Required field 'OTP is not valid for password recovery' is missing\",\"cause\":\"Required field 'OTP is not valid for password recovery' is missing from request\",\"action\":\"Please include the 'OTP is not valid for password recovery' field in your request\",\"timestamp\":\"2025-11-18T12:20:06.246476309Z\",\"httpStatus\":400,\"severity\":\"MEDIUM\",\"retryable\":false,\"retryPolicy\":null,\"context\":{\"correlationId\":null,\"traceId\":null,\"spanId\":null,\"timestamp\":\"2025-11-18T12:20:06.246303442Z\",\"userId\":null,\"operation\":null,\"additionalContext\":{}},\"metadata\":{}}] \nexpected: 200\n but was: 400","trace":"org.opentest4j.AssertionFailedError: [Redefinição de senha deve retornar 200. Resposta: {\"errorCode\":\"AU-A-VAL006\",\"message\":\"Required field 'OTP is not valid for password recovery' is missing\",\"cause\":\"Required field 'OTP is not valid for password recovery' is missing from request\",\"action\":\"Please include the 'OTP is not valid for password recovery' field in your request\",\"timestamp\":\"2025-11-18T12:20:06.246476309Z\",\"httpStatus\":400,\"severity\":\"MEDIUM\",\"retryable\":false,\"retryPolicy\":null,\"context\":{\"correlationId\":null,\"traceId\":null,\"spanId\":null,\"timestamp\":\"2025-11-18T12:20:06.246303442Z\",\"userId\":null,\"operation\":null,\"additionalContext\":{}},\"metadata\":{}}] \nexpected: 200\n but was: 400\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.eu_devo_conseguir_redefinir_minha_senha(AuthenticationSteps.java:1095)\n\tat ✽.eu devo conseguir redefinir minha senha(classpath:features/authentication/password_recovery.feature:18)\n"},"stage":"finished","steps":[],"attachments":[{"name":"Status Code","source":"199f15df-81d7-4fcc-b4f4-412e7e5924ab-attachment.txt","type":"text/plain"},{"name":"Request Info","source":"8c4a0d6e-3cf3-450c-be87-2c0ccba320cc-attachment.txt","type":"text/plain"},{"name":"Response Headers","source":"3bef3092-99d1-4a26-af64-c5e6e642265b-attachment.txt","type":"text/plain"}],"parameters":[],"start":1763468406231,"stop":1763468406251},{"name":"And  o evento \"otp.validated\" deve ser publicado","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468406251,"stop":1763468406252}],"attachments":[],"parameters":[],"start":1763468402051,"stop":1763468406253}