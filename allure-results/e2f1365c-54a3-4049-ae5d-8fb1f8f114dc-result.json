{"uuid":"e2f1365c-54a3-4049-ae5d-8fb1f8f114dc","historyId":"9ac5f250072aca84b962286a9776a5f","fullName":"features/authentication/otp.feature:37","labels":[{"name":"tag","value":"implemented"},{"name":"tag","value":"segment_1"},{"name":"tag","value":"j1.11"},{"name":"tag","value":"otp"},{"name":"severity","value":"critical"},{"name":"tag","value":"e2e"},{"name":"tag","value":"bu-identity"},{"name":"tag","value":"otp_validation"},{"name":"host","value":"MacBook-Pro-de-Glaucio.local"},{"name":"thread","value":"8863@MacBook-Pro-de-Glaucio.local.main(1)"},{"name":"feature","value":"Geração e Validação de OTP"},{"name":"story","value":"Validação de OTP falha com código inválido"},{"name":"suite","value":"Geração e Validação de OTP"},{"name":"testClass","value":"Validação de OTP falha com código inválido"},{"name":"framework","value":"cucumber4jvm"},{"name":"language","value":"java"},{"name":"gherkin_uri","value":"classpath:features/authentication/otp.feature"},{"name":"package","value":"features.authentication.otp_feature.Geração e Validação de OTP"}],"links":[],"name":"Validação de OTP falha com código inválido","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"[Evento otp.validated não deve ter sido publicado. Se foi publicado, pode indicar problema no serviço.] \nexpected: null\n but was: com.nulote.journey.utils.RabbitMQHelper$Event@77feca04","trace":"org.opentest4j.AssertionFailedError: [Evento otp.validated não deve ter sido publicado. Se foi publicado, pode indicar problema no serviço.] \nexpected: null\n but was: com.nulote.journey.utils.RabbitMQHelper$Event@77feca04\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.o_evento_nao_deve_ser_publicado(AuthenticationSteps.java:1617)\n\tat ✽.o evento \"otp.validated\" não deve ser publicado(classpath:features/authentication/otp.feature:42)\n"},"stage":"finished","description":"  Como um usuário\n  Eu quero solicitar e validar códigos OTP\n  Para realizar operações que requerem verificação","steps":[{"name":"Given  a infraestrutura de testes está configurada","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468505793,"stop":1763468505794},{"name":"And  os microserviços estão rodando","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468505794,"stop":1763468505794},{"name":"And  que tenho dados de teste únicos","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468505795,"stop":1763468505795},{"name":"And  que crio um usuário com esses dados","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468505795,"stop":1763468508410},{"name":"When  eu solicito OTP via \"EMAIL\" para \"REGISTRATION\"","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[{"name":"Status Code","source":"6d13d7eb-9833-4009-9e92-4fc1a55520c1-attachment.txt","type":"text/plain"},{"name":"Request Info","source":"15e3ba9f-c2a0-474e-a855-fd4f9ce26a10-attachment.txt","type":"text/plain"},{"name":"Response Headers","source":"dc60c50e-d1c4-4e13-9fd9-3fff381cbc58-attachment.txt","type":"text/plain"}],"parameters":[],"start":1763468508410,"stop":1763468508447},{"name":"And  eu recebo o código OTP","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468508447,"stop":1763468509456},{"name":"And  eu valido o OTP informando \"000000\"","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[{"name":"Status Code","source":"d5ac6158-e9e3-40d7-85d0-61014d063698-attachment.txt","type":"text/plain"},{"name":"Request Info","source":"af7c8990-2bf5-4151-8731-33b909469fb1-attachment.txt","type":"text/plain"},{"name":"Response Headers","source":"9b98a63c-2b96-4f17-b586-edcb2d9a2a78-attachment.txt","type":"text/plain"}],"parameters":[],"start":1763468509456,"stop":1763468509504},{"name":"Then  a validação de OTP deve retornar status 401","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468509504,"stop":1763468509504},{"name":"And  o evento \"otp.validated\" não deve ser publicado","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"[Evento otp.validated não deve ter sido publicado. Se foi publicado, pode indicar problema no serviço.] \nexpected: null\n but was: com.nulote.journey.utils.RabbitMQHelper$Event@77feca04","trace":"org.opentest4j.AssertionFailedError: [Evento otp.validated não deve ter sido publicado. Se foi publicado, pode indicar problema no serviço.] \nexpected: null\n but was: com.nulote.journey.utils.RabbitMQHelper$Event@77feca04\n\tat com.nulote.journey.stepdefinitions.AuthenticationSteps.o_evento_nao_deve_ser_publicado(AuthenticationSteps.java:1617)\n\tat ✽.o evento \"otp.validated\" não deve ser publicado(classpath:features/authentication/otp.feature:42)\n"},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1763468509505,"stop":1763468511514}],"attachments":[],"parameters":[],"start":1763468505792,"stop":1763468511514}