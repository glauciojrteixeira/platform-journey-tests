# Configuração para ambiente LOCAL
# No ambiente LOCAL, os testes E2E utilizam a mesma infraestrutura Docker 
# já em execução para desenvolvimento (PostgreSQL, MongoDB, RabbitMQ).
# Não há necessidade de Testcontainers.

e2e:
  environment: local
  # Multi-Country: País padrão para testes (conforme refatoração multi-country)
  default-country-code: BR  # Código do país em uppercase (será convertido para lowercase no header)
  simulate-provider:
    enabled: true  # Sempre simular em local para evitar custos e dependências externas
  services:
    identity-url: http://localhost:8084
    auth-url: http://localhost:8080
    profile-url: http://localhost:8088
    transactional-messaging-url: http://localhost:8188
    delivery-tracker-url: http://localhost:8083
    audit-compliance-url: http://localhost:8090
  timeout: 30000

# Configuração RabbitMQ para testes E2E (local)
rabbitmq:
  # Multi-Country: Virtual Host para ambiente local/low env
  # Em ambientes locais e low env, temos apenas um broker RabbitMQ para um único país
  # Por padrão, usamos "/br" (país padrão configurado em default-country-code: BR)
  # Em produção, pode usar "/br", "/ar", "/cl", "/bo" conforme país
  # Pode ser sobrescrito via variável de ambiente: RABBITMQ_VIRTUAL_HOST=/br
  virtual-host: ${RABBITMQ_VIRTUAL_HOST:/br}  # Default: "/br" para local/low env (país padrão BR)

